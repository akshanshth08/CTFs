In these set of tasks you'll learn the following:

    brute forcing 
    hash cracking 
    service enumeration
    Linux Enumeration

The first task was to deploy the machine and 2nd was to find the services exposed
 below are the opena ports
22
80
139
445
8009
8080

Nmap -A <machine_ip>

Recon: 

![image](https://user-images.githubusercontent.com/45536407/84288688-8015e880-ab0f-11ea-88cc-fa4079598e81.png)

![image](https://user-images.githubusercontent.com/45536407/84368522-a7b69080-aba3-11ea-881e-1da83458c8ce.png)


Since samba services were running I ran enum4linux

![image](https://user-images.githubusercontent.com/45536407/84368565-b8670680-aba3-11ea-84b8-2ff1cc82ba52.png)

Which gave me the users 

![image](https://user-images.githubusercontent.com/45536407/84368651-d6346b80-aba3-11ea-849a-f6ed6c87e2f1.png)


Task1.5 & 1.9

For the task 1.3 I ran the gobuster to find the hidden directory

For the hidden directory question I ran gobuster to search the directories

Gobuster dir -u <http://url> -w <wordlist>

![image](https://user-images.githubusercontent.com/45536407/84368702-e8aea500-aba3-11ea-9503-68d5447fff6e.png)


After which I just navigated through the website

![image](https://user-images.githubusercontent.com/45536407/84368732-f532fd80-aba3-11ea-9390-009cc1a22bfd.png)
![image](https://user-images.githubusercontent.com/45536407/84368747-f95f1b00-aba3-11ea-9328-2cc57495bc03.png)
![image](https://user-images.githubusercontent.com/45536407/84368762-fd8b3880-aba3-11ea-81a2-9e0e1ef9a429.png)
![image](https://user-images.githubusercontent.com/45536407/84368778-011ebf80-aba4-11ea-8b0c-fe6656413b80.png)









From this we know that user jan has a weak password and we can try to crack its password using a brute force attack, I used hydra for the same

hydra -L <userlist> -P <password_list> ssh
Or  since it was a single user you can also use: hydra -l jan  -P <password_list> ssh


![image](https://user-images.githubusercontent.com/45536407/84368810-0c71eb00-aba4-11ea-827e-07bcc387b3eb.png)





This completes task 1.4 and 1.6

So now we can access the server using jan's credentials vis ssh(task 1.7)

For task 1.8 I took the hint asking me to look for provilege escalation checklist and from google I found a link which suggested me a checklist

![image](https://user-images.githubusercontent.com/45536407/84368865-1e538e00-aba4-11ea-9187-d95bd2dba440.png)



And I found .ssh folder in kay's home directory with readable ssh key, also there was a pass.bak which was interesting 


![image](https://user-images.githubusercontent.com/45536407/84368932-2f040400-aba4-11ea-91c6-b1e2043efd6b.png)



I knew how the ssh keys are used for logging in but the private key was passphrase protected so I tried to crack it using John but it wan not successfull.


![image](https://user-images.githubusercontent.com/45536407/84368992-3e834d00-aba4-11ea-8f65-4a377bb6cec2.png)


So I started searching on how to crack ssh keys and after sometime I found a few resources which helped me crack it.
https://www.hackingarticles.in/beginners-guide-for-john-the-ripper-part-2/
https://www.abhizer.com/crack-ssh-with-john/

After reading them I knew that John cannot directly decrypt the id_rsa file and it has to be formatted first using ssh2john.py script

![image](https://user-images.githubusercontent.com/45536407/84369039-4cd16900-aba4-11ea-8e7b-66bafb77d603.png)

And then ran John on the generated file

![image](https://user-images.githubusercontent.com/45536407/84369083-58bd2b00-aba4-11ea-940f-5976b0d0bf77.png)


Point to note : this is the passphrase used for ssh private key and not kay's unix password

Since we have the kay's private key's passphrase we can connect to user kay using this.We can connect to ssh using an identity key file by -i in ssh command

![image](https://user-images.githubusercontent.com/45536407/84369115-61adfc80-aba4-11ea-8851-5cf063496653.png)


From the jan's session which I had already logged in, I tried logging  into kay specifying the identity file and I could read the contents of pass.bak file which gave me the required password(task1.11)

![image](https://user-images.githubusercontent.com/45536407/84369163-6ffc1880-aba4-11ea-88a4-27764f6d816b.png)


This was the final flag and I learned how to crack ssh keys using John.


